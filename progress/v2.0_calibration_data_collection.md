# v2.0 — Calibration Data Collection

**Date:** 2026-02-28
**Goal:** Collect calibration dataset X_cal from clean environment for uncertainty estimator fitting.

## What is Calibration Data?
The robot's "memory of normal" — observations collected while running the pretrained
policy in a CLEAN (no noise) environment, keeping only SUCCESSFUL episodes.
This defines the distribution of states the robot has seen during nominal operation.

## Collection Process
1. Run pretrained policy in clean environment (no noise, no perturbations)
2. Record 36-dim ground truth observations at every timestep
3. Track episode success (cube lifted above 0.2m)
4. Keep ONLY observations from successful episodes

## Results
- **Total episodes:** 500 attempted, **224 successful** (100% of completed episodes)
- **Total observations:** 56,000
- **Shape:** X_cal [56000, 36], A_cal [56000, 8]

## Observation Statistics
| Component         | Indices | Mean   | Std    |
|-------------------|---------|--------|--------|
| Joint positions   | 0:9     | varies | varies |
| Joint velocities  | 9:18    | ~0     | varies |
| Object position   | 18:21   | varies | varies |
| Target pose       | 21:28   | varies | **dims 24-27 have ZERO variance** |
| Previous actions  | 28:36   | ~0     | 2.68   |

## Key Data Properties
- **Covariance condition number:** 8.99e+21 (nearly singular before regularization)
- **PCA structure:** 95% variance in just 8 dims, 99% in 13 dims out of 36
- **Gripper joints (jp7, jp8):** std = 0.005 (near-constant)
- **Target quaternion (dims 24-27):** ZERO variance (constant target orientation)

## Parameters
```
--num_envs 32
--num_episodes 500
--seed 42
--task Isaac-Lift-Cube-Franka-v0
```

## Files
- `collect_calibration_data.py` — collection script
- `calibration_data/Isaac-Lift-Cube-Franka-v0_20260228_181927/X_cal.npy` — 56K observations
- `calibration_data/Isaac-Lift-Cube-Franka-v0_20260228_181927/A_cal.npy` — 56K actions
- `calibration_data/Isaac-Lift-Cube-Franka-v0_20260228_181927/metadata.json`

## Paper Value
- **Section 4.1 (Experimental Setup):** Dataset size, success filtering, observation structure
- **Insight about low intrinsic dimensionality:** 36D but only 8 effective dims → important for method choice
